#!perl
#
# Generate PerlTk Screen modules for Tpda3 applications.
#

use strict;
use warnings;
use utf8;

use Data::Dumper;

use Tpda3::Devel;

if ( !@ARGV ) {
    Tpda3::Devel::help();
    exit 1;
}

my $cfname = shift;         # Runtime configuration name

main();

sub main {
    my $opt = Tpda3::Devel::get_options($cfname);

    check_options($opt);

    my $dev = Tpda3::Devel->new($opt)->process();
}

sub check_options {
    my $opt = shift;

    if ( defined $opt->{list} ) {
        Tpda3::Config->instance()->list_configs( $opt->{list} );
        exit;
    }
}

=head1 NAME

Tpda3-Devel - Create a screen module and it's configuration.

=head1 SYNOPSIS

List existing configurations:

    tpda3d [ -l [<config-name>]]

Generate a screen module and a screen configuration for it:

    tpda3d -c <config-name> -t <table> [-s <screen>] [-u <user>] [-p <pass>]

=head1 DESCRIPTION

This is a utility program for Tpda3.

Extract table informations from a database and create a basic screen
configuration file and a PerlTk screen module file.

=head1 CONFIGURATION AND ENVIRONMENT

Requirements:

    Tpda3 v0.46 and a Tpda3 application source.

    (The Tpda3 Test application ClassicModels can be used for testing)

=head1 BUGS AND LIMITATIONS

There are no known bugs in this module.

Please report problems to the author(s)

Patches are welcome.

=head1 AUTHOR

Stefan Suciu, C<< <stefan@s2i2.ro> >>

=head1 LICENCE AND COPYRIGHT

Copyright (c) 2011-2012 Stefan Suciu.

All rights reserved.

GNU General Public License
